(function(){"use strict";var t={745:function(t,e,s){var a=s(6369),r=s(3822),i=s(2631),n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page login-page"},[e("form",{staticClass:"login-page__form",on:{submit:t.onSubmit}},[e("label",{staticClass:"login-page__field"},[t._v(" Admin "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userType,expression:"userType"}],attrs:{type:"radio",value:"admin"},domProps:{checked:t._q(t.userType,"admin")},on:{change:function(e){t.userType="admin"}}})]),e("label",{staticClass:"login-page__field"},[t._v(" User "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.userType,expression:"userType"}],attrs:{type:"radio",value:"user"},domProps:{checked:t._q(t.userType,"user")},on:{change:function(e){t.userType="user"}}})]),e("button",{attrs:{disabled:!t.userType}},[t._v(" Sign in ")])])])},l=[],o={data(){return{userType:void 0}},methods:{...(0,r.nv)({signIn:"user/signIn"}),onSubmit(t){t.preventDefault(),this.signIn(this.userType)}}},u=o,c=s(1001),d=(0,c.Z)(u,n,l,!1,null,null,null),_=d.exports,m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page"},[e("button",{attrs:{type:"button"},on:{click:function(e){return t.getNewData()}}},[t._v(" get New Data ")]),t.usersLoading?e("p",[t._v(" Loading users... ")]):t._e(),t.usersLoading?t._e():[e("div",{staticClass:"page__section"},[e("button",{attrs:{type:"button"},on:{click:t.toggleCardsView}},[t._v(" toggle users view ")])]),e("div",{staticClass:"sorting page__section"},[e("h2",[t._v(" Sorting ")]),e("label",[t._v(" Name "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.sortingByName,expression:"sortingByName"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.sortingByName=e.target.multiple?s:s[0]}}},[e("option",{attrs:{value:""}},[t._v("initial")]),e("option",{attrs:{value:"asc"}},[t._v("ascending (A-Z)")]),e("option",{attrs:{value:"desc"}},[t._v("descending (Z-A)")])])])]),"admin"===t.authorizedAs?e("div",{staticClass:"filters page__section"},[e("h2",[t._v(" Filters ")]),e("div",{staticClass:"filters__grid"},[e("label",{staticClass:"filters__item"},[t._v(" Name "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.fullname,expression:"filters.fullname"}],attrs:{type:"text"},domProps:{value:t.filters.fullname},on:{input:function(e){e.target.composing||t.$set(t.filters,"fullname",e.target.value)}}})]),e("label",{staticClass:"filters__item"},[t._v(" Nationality "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.filters.nat,expression:"filters.nat"}],attrs:{type:"text"},domProps:{value:t.filters.nat},on:{input:function(e){e.target.composing||t.$set(t.filters,"nat",e.target.value)}}})]),e("label",{staticClass:"filters__item"},[t._v(" Sex "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.filters.gender,expression:"filters.gender"}],attrs:{name:"",id:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filters,"gender",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:""}},[t._v("both")]),e("option",{attrs:{value:"male"}},[t._v("male")]),e("option",{attrs:{value:"female"}},[t._v("female")])])])])]):t._e(),e("div",{staticClass:"page__section"},[t.displayCardsView?t._e():e("table-view",{attrs:{headers:t.headers,items:t.paginatedData}}),t.displayCardsView?e("cards-view",{attrs:{items:t.paginatedData}}):t._e()],1),e("div",{staticClass:"pagination page__section"},[e("button",{attrs:{type:"button",disabled:0===t.currentPage},on:{click:t.prevPage}},[t._v(" Prev page ")]),t._l(t.totalPages,(function(s,a){return e("button",{key:s,attrs:{disabled:t.currentPage===a,type:"button"},on:{click:function(e){return t.changePage(a)}}},[t._v(" "+t._s(s)+" ")])})),e("button",{attrs:{type:"button",disabled:t.currentPage>=t.totalPages-1},on:{click:t.nextPage}},[t._v(" Next page ")])],2),e("div",{staticClass:"statistics page__section"},[e("h2",[t._v(" Statistics ")]),e("div",[e("span",[t._v(" Total users: "+t._s(t.statistics.totalUsers)+" ")])]),e("div",[e("span",[t._v(" Total males: "+t._s(t.statistics.male)+" ")])]),e("div",[e("span",[t._v(" Total females: "+t._s(t.statistics.female)+" ")])]),e("div",[e("span",[t._v(" Majority: "+t._s(t.majorityBySex)+" ")])]),e("h3",[t._v(" Users by nationality ")]),t._l(t.statistics.nat,(function(s,a){return e("div",{key:a},[e("span",[t._v(" "+t._s(a)+": "+t._s(s)+" ")])])}))],2)]],2)},p=[],g=s(1076),v={async getUsersData(t=100){const e=await g.Z.get(`https://randomuser.me/api/?results=${t}`);return e.data.results}},f=function(){var t=this,e=t._self._c;return e("table",{staticClass:"table"},[e("tr",{staticClass:"table__row"},t._l(t.headers,(function(s,a){return e("th",{key:a,staticClass:"table__cell"},[t._v(" "+t._s(s)+" ")])})),0),t._l(t.items,(function(s,a){return e("tr",{key:a,staticClass:"table__row"},[e("td",{staticClass:"table__cell"},[e("img",{attrs:{src:s.picture.thumbnail,alt:"",role:"presentation"}})]),e("td",{staticClass:"table__cell"},[t._v(" "+t._s(s.name.first)+" "+t._s(s.name.last)+" ")]),e("td",{staticClass:"table__cell"},[t._v(" "+t._s(t.formatDate(s.dob.date))+", "+t._s(s.dob.age)+" ")]),e("td",{staticClass:"table__cell"},[e("a",{attrs:{href:`mailto:${s.email}`}},[t._v(" "+t._s(s.email)+" ")])]),e("td",{staticClass:"table__cell"},[e("a",{attrs:{href:`tel:${s.phone}`}},[t._v(" "+t._s(s.phone)+" ")])]),e("td",{staticClass:"table__cell"},[t._v(" "+t._s(s.location.country)+", "+t._s(s.location.city)+" ")]),e("td",{staticClass:"table__cell"},[t._v(" "+t._s(s.nat)+" ")]),e("td",{staticClass:"table__cell"},[t._v(" "+t._s(s.gender)+" ")])])}))],2)},h=[],y=s(8335),b={methods:{formatDate(t){return y.ou.fromISO(t).setLocale("en-US").toFormat("ccc, MM/dd/y, hh:mm a")}}},C={props:{headers:{type:Array,required:!0},items:{type:Array,required:!0}},mixins:[b]},w=C,P=(0,c.Z)(w,f,h,!1,null,null,null),x=P.exports,A=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"cards"},t._l(t.items,(function(s,a){return e("li",{key:a,staticClass:"card cards__item"},[e("header",{staticClass:"card__header"},[e("img",{staticClass:"card__avatar",attrs:{src:s.picture.thumbnail,alt:"",role:"presentation"}}),e("div",{staticClass:"card__aside"},[e("span",{staticClass:"card__name"},[t._v(" "+t._s(s.name.first)+" "+t._s(s.name.last)+", "+t._s(s.nat)+" ")]),e("span",{staticClass:"card__location"},[t._v(" "+t._s(s.location.country)+", "+t._s(s.location.city)+" ")])])]),e("div",{staticClass:"card__content"},[e("a",{staticClass:"card__link",attrs:{href:`tel:${s.phone}`}},[e("span",{staticClass:"card__text"},[t._v(" "+t._s(s.phone)+" ")])]),e("a",{staticClass:"card__link",attrs:{href:`mailto:${s.email}`}},[e("span",{staticClass:"card__text"},[t._v(" "+t._s(s.email)+" ")])]),e("span",{staticClass:"card__age"},[t._v(" "+t._s(t.formatDate(s.dob.date))+", "+t._s(s.dob.age)+" ")])])])})),0)},N=[],S={props:{items:{type:Array,required:!0}},mixins:[b]},U=S,k=(0,c.Z)(U,A,N,!1,null,null,null),T=k.exports,V={components:{TableView:x,CardsView:T},data(){return{usersLoading:!0,usersList:void 0,sortingByName:"",headers:["Avatar","Fullname","Date of birth","Email","Phone","Location","Nationality","Sex"],filters:{gender:"",fullname:null,nat:null},itemsPerPage:10,currentPage:0}},computed:{...(0,r.rn)({authorizedAs:t=>t.user.authorizedAs,displayCardsView:t=>t.user.displayCardsView}),sortedUsers(){return"asc"===this.sortingByName?this.usersList.slice(0).sort(((t,e)=>this.getUserFullname(t).localeCompare(this.getUserFullname(e)))):"desc"===this.sortingByName?this.usersList.slice(0).sort(((t,e)=>this.getUserFullname(e).localeCompare(this.getUserFullname(t)))):this.usersList},filteredUsers(){if(!this.sortedUsers?.length)return[];const t=Object.keys(this.filters);return this.sortedUsers.filter((e=>t.every((t=>{if(!this.filters[t]?.length)return!0;if("gender"===t&&!this.filters[t])return!0;if("gender"===t)return e[t]===this.filters[t];let s;return s="fullname"===t?`${e.name.first} ${e.name.last}`:e[t],s.toLowerCase().includes(this.filters[t].toLowerCase())}))))},totalPages(){return Math.ceil(this.filteredUsers.length/this.itemsPerPage)},paginatedData(){if(!this.filteredUsers?.length)return[];const t=this.currentPage*this.itemsPerPage,e=t+this.itemsPerPage;return this.filteredUsers.slice(t,e)},statistics(){return this.usersList.reduce(((t,e)=>(t[e.gender]++,t.nat[e.nat]||(t.nat[e.nat]=0),t.nat[e.nat]++,t)),{totalUsers:this.usersList.length,male:0,female:0,nat:{}})},majorityBySex(){const{male:t,female:e,totalUsers:s}=this.statistics;if(t===e)return"equal";let a,r;return t>e?(a=t,r="males"):(a=e,r="females"),`${r} (${Math.round(a/s*100)}%)`}},watch:{paginatedData(t){0===t.length&&(this.currentPage=0)}},mounted(){this.getNewData()},methods:{...(0,r.nv)({toggleCardsView:"user/toggleCardsView"}),async getNewData(t=100){this.usersLoading=!0;try{this.usersList=await v.getUsersData(t),this.usersLoading=!1}catch(e){console.log("users loading error"),console.log(e)}},getUserFullname(t){return`${t.name.first} ${t.name.last}`},prevPage(){this.currentPage--},nextPage(){this.currentPage++},changePage(t){this.currentPage=t}}},Z=V,L=(0,c.Z)(Z,m,p,!1,null,null,null),O=L.exports;s(560);const D=()=>({authorizedAs:localStorage.getItem("authorizedAs"),displayCardsView:JSON.parse(localStorage.getItem("displayCardsView"))}),$={isAuthorized(t){return!!t.authorizedAs}},j={signIn({commit:t},e){localStorage.setItem("authorizedAs",e),t("setUserRole",e),B.push({name:"contacts"})},toggleCardsView({state:t,commit:e}){e("toggleCardsView"),localStorage.setItem("displayCardsView",t.displayCardsView)}},z={setUserRole(t,e){t.authorizedAs=e},toggleCardsView(t){t.displayCardsView=!t.displayCardsView}};var F={namespaced:!0,state:D,getters:$,actions:j,mutations:z};a.ZP.use(r.ZP);var I=new r.ZP.Store({modules:{user:F}});const q=new i.ZP({base:"/user-list/",routes:[{path:"/",name:"home",component:_},{path:"/contacts",name:"contacts",meta:{requireAuth:!0},component:O}]});q.beforeEach(((t,e,s)=>{const a=I.getters["user/isAuthorized"];t.matched.some((t=>t.meta?.requireAuth))?a?s():s("/"):"home"===t.name&&a?s("/contacts"):s()}));var B=q,M=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app container",attrs:{id:"app"}},[e("router-view")],1)},E=[],R={name:"App"},J=R,G=(0,c.Z)(J,M,E,!1,null,null,null),H=G.exports;a.ZP.config.productionTip=!1,a.ZP.use(r.ZP),a.ZP.use(i.ZP),new a.ZP({router:B,store:I,render:t=>t(H)}).$mount("#app")}},e={};function s(a){var r=e[a];if(void 0!==r)return r.exports;var i=e[a]={exports:{}};return t[a].call(i.exports,i,i.exports,s),i.exports}s.m=t,function(){var t=[];s.O=function(e,a,r,i){if(!a){var n=1/0;for(c=0;c<t.length;c++){a=t[c][0],r=t[c][1],i=t[c][2];for(var l=!0,o=0;o<a.length;o++)(!1&i||n>=i)&&Object.keys(s.O).every((function(t){return s.O[t](a[o])}))?a.splice(o--,1):(l=!1,i<n&&(n=i));if(l){t.splice(c--,1);var u=r();void 0!==u&&(e=u)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[a,r,i]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var r,i,n=a[0],l=a[1],o=a[2],u=0;if(n.some((function(e){return 0!==t[e]}))){for(r in l)s.o(l,r)&&(s.m[r]=l[r]);if(o)var c=o(s)}for(e&&e(a);u<n.length;u++)i=n[u],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(c)},a=self["webpackChunkuser_list"]=self["webpackChunkuser_list"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(745)}));a=s.O(a)})();
//# sourceMappingURL=app.02e58ec9.js.map